# Remote Mouse 需求文档 V2 (迭代版)

**版本**: 2.0（Fluid）
**状态**: 已实现

## 1. 核心变更目标
基于现有 V1 版本进行交互体验升级与服务端架构重构。重点在于将服务端转变为用户友好的 GUI 程序，并全面升级移动端的触控手势体验。

## 2. 服务端重构 (Server Refactor)

### 2.1 运行形态
*   **GUI 应用程序**: 将 Python 脚本打包为带界面的应用程序（Windows .exe / macOS .app）。
*   **系统托盘 (System Tray)**:
    *   程序启动后不显示主窗口，直接最小化至系统托盘区运行。
    *   **图标**: 显示应用 Logo。
    *   **右键菜单**:
        *   **退出 (Exit)**: 彻底关闭服务端程序。
        *   *(可选)* **状态信息**: 显示当前 IP 地址或连接状态。

### 2.2 用户流程
1.  用户安装并启动服务端程序。
2.  程序在后台静默运行，监听端口等待连接。
3.  用户通过托盘图标管理程序生命周期。

## 3. 移动端功能升级 (Mobile Update)

### 3.1 交互与手势 (Gestures)
移除旧版的“独立左右键”和“滚轮条”UI，采用全屏触控板模式。

*   **单指操作**:
    *   **移动**: 控制光标移动。
    *   **点击**: 轻触触发**左键单击**。
*   **双指操作**:
    *   **滚动**: 双指同时滑动触发**滚轮滚动**（支持上下/左右）。
    *   **点击**: 双指同时轻触触发**右键单击**。
*   **三指操作 (选中/拖拽)**:
    *   **拖拽**: 三指接触屏幕并移动，模拟**鼠标左键按住不放**（Left Mouse Drag）。
    *   **释放**: 三指抬起时，释放左键。
*   **性能要求**: 触控操作需丝滑、流畅、低延迟。

### 3.2 新增功能
*   **设置 (Settings)**:
    *   **移动灵敏度**: 滑动条调节单指光标移动速度。
    *   **滚动灵敏度**: 滑动条调节双指滚动速度/行数。
*   **横屏模式 (Landscape)**:
    *   App 需适配横屏显示，自动调整 UI 布局（如将修饰键移至侧边），最大化触控区域。

## 4. 界面布局调整
*   **主界面**: 全屏手势区域 + 底部功能栏（键盘入口、设置入口、修饰键）。
*   **修饰键**: `Esc`, `Ctrl`, `Alt`, `Shift`, `Win/Cmd` (保留在边缘)。

## 5. 技术协议变更
*   **控制指令扩展**:
    *   新增/修改指令以支持更精细的参数配置（灵敏度在客户端处理，发送最终坐标差值）。
    *   新增拖拽状态指令（如需）：`{"type": "drag_start"}` / `{"type": "drag_end"}`。
